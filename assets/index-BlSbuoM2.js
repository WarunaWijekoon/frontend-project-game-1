(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const _=new Map,k={set(e,t,n){_.has(e)||_.set(e,new Map);const i=_.get(e);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,n)},get(e,t){return _.has(e)&&_.get(e).get(t)||null},remove(e,t){if(!_.has(e))return;const n=_.get(e);n.delete(t),n.size===0&&_.delete(e)}},Ot=1e3,F="transitionend",ct=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),Lt=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),$t=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const i=Number.parseFloat(t),s=Number.parseFloat(n);return!i&&!s?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*Ot)},kt=e=>{e.dispatchEvent(new Event(F))},w=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),V=e=>w(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(ct(e)):null,ut=e=>{if(!w(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const i=e.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return t},dt=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",ft=e=>{e.offsetHeight},ht=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],Mt=e=>{document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of M)t()}),M.push(e)):e()},J=()=>document.documentElement.dir==="rtl",Bt=e=>{Mt(()=>{const t=ht();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}})},E=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,mt=(e,t,n=!0)=>{if(!n){E(e);return}const s=$t(t)+5;let r=!1;const o=({target:c})=>{c===t&&(r=!0,t.removeEventListener(F,o),E(e))};t.addEventListener(F,o),setTimeout(()=>{r||kt(t)},s)},Rt=/[^.]*(?=\..*)\.|.*/,xt=/\..*/,Wt=/::\d+$/,B={};let X=1;const gt={mouseenter:"mouseover",mouseleave:"mouseout"},Pt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function pt(e,t){return t&&`${t}::${X++}`||e.uidEvent||X++}function _t(e){const t=pt(e);return e.uidEvent=t,B[t]=B[t]||{},B[t]}function Ft(e,t){return function n(i){return q(i,{delegateTarget:e}),n.oneOff&&l.off(e,i.type,t),t.apply(e,[i])}}function Vt(e,t,n){return function i(s){const r=e.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const c of r)if(c===o)return q(s,{delegateTarget:o}),i.oneOff&&l.off(e,s.type,t,n),n.apply(o,[s])}}function Et(e,t,n=null){return Object.values(e).find(i=>i.callable===t&&i.delegationSelector===n)}function yt(e,t,n){const i=typeof t=="string",s=i?n:t||n;let r=bt(e);return Pt.has(r)||(r=e),[i,s,r]}function Z(e,t,n,i,s){if(typeof t!="string"||!e)return;let[r,o,c]=yt(t,n,i);t in gt&&(o=(It=>function(A){if(!A.relatedTarget||A.relatedTarget!==A.delegateTarget&&!A.delegateTarget.contains(A.relatedTarget))return It.call(this,A)})(o));const f=_t(e),p=f[c]||(f[c]={}),h=Et(p,o,r?n:null);if(h){h.oneOff=h.oneOff&&s;return}const b=pt(o,t.replace(Rt,"")),g=r?Vt(e,n,o):Ft(e,o);g.delegationSelector=r?n:null,g.callable=o,g.oneOff=s,g.uidEvent=b,p[b]=g,e.addEventListener(c,g,r)}function H(e,t,n,i,s){const r=Et(t[n],i,s);r&&(e.removeEventListener(n,r,!!s),delete t[n][r.uidEvent])}function Ht(e,t,n,i){const s=t[n]||{};for(const[r,o]of Object.entries(s))r.includes(i)&&H(e,t,n,o.callable,o.delegationSelector)}function bt(e){return e=e.replace(xt,""),gt[e]||e}const l={on(e,t,n,i){Z(e,t,n,i,!1)},one(e,t,n,i){Z(e,t,n,i,!0)},off(e,t,n,i){if(typeof t!="string"||!e)return;const[s,r,o]=yt(t,n,i),c=o!==t,f=_t(e),p=f[o]||{},h=t.startsWith(".");if(typeof r<"u"){if(!Object.keys(p).length)return;H(e,f,o,r,s?n:null);return}if(h)for(const b of Object.keys(f))Ht(e,f,b,t.slice(1));for(const[b,g]of Object.entries(p)){const Q=b.replace(Wt,"");(!c||t.includes(Q))&&H(e,f,o,g.callable,g.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const i=ht(),s=bt(t),r=t!==s;let o=null,c=!0,f=!0,p=!1;r&&i&&(o=i.Event(t,n),i(e).trigger(o),c=!o.isPropagationStopped(),f=!o.isImmediatePropagationStopped(),p=o.isDefaultPrevented());const h=q(new Event(t,{bubbles:c,cancelable:!0}),n);return p&&h.preventDefault(),f&&e.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function q(e,t={}){for(const[n,i]of Object.entries(t))try{e[n]=i}catch{Object.defineProperty(e,n,{configurable:!0,get(){return i}})}return e}function tt(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function R(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const N={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${R(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${R(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=tt(e.dataset[i])}return t},getDataAttribute(e,t){return tt(e.getAttribute(`data-bs-${R(t)}`))}};class z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const i=w(n)?N.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...w(n)?N.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[i,s]of Object.entries(n)){const r=t[i],o=w(r)?"element":Lt(r);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${s}".`)}}}const Kt="5.3.3";class jt extends z{constructor(t,n){super(),t=V(t),t&&(this._element=t,this._config=this._getConfig(n),k.set(this._element,this.constructor.DATA_KEY,this))}dispose(){k.remove(this._element,this.constructor.DATA_KEY),l.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,i=!0){mt(t,n,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return k.get(V(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return Kt}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const x=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>ct(n)).join(","):null},m={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!dt(n)&&ut(n))},getSelectorFromElement(e){const t=x(e);return t&&m.findOne(t)?t:null},getElementFromSelector(e){const t=x(e);return t?m.findOne(t):null},getMultipleElementsFromSelector(e){const t=x(e);return t?m.find(t):[]}},At="backdrop",Yt="fade",et="show",nt=`mousedown.bs.${At}`,qt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},zt={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Gt extends z{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return qt}static get DefaultType(){return zt}static get NAME(){return At}show(t){if(!this._config.isVisible){E(t);return}this._append();const n=this._getElement();this._config.isAnimated&&ft(n),n.classList.add(et),this._emulateAnimation(()=>{E(t)})}hide(t){if(!this._config.isVisible){E(t);return}this._getElement().classList.remove(et),this._emulateAnimation(()=>{this.dispose(),E(t)})}dispose(){this._isAppended&&(l.off(this._element,nt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Yt),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=V(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),l.on(t,nt,()=>{E(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){mt(t,this._getElement(),this._config.isAnimated)}}const Ut=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;l.on(document,n,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),dt(this))return;const r=m.getElementFromSelector(this)||this.closest(`.${i}`);e.getOrCreateInstance(r)[t]()})},Qt="focustrap",Jt="bs.focustrap",L=`.${Jt}`,Xt=`focusin${L}`,Zt=`keydown.tab${L}`,te="Tab",ee="forward",it="backward",ne={autofocus:!0,trapElement:null},ie={autofocus:"boolean",trapElement:"element"};class se extends z{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ne}static get DefaultType(){return ie}static get NAME(){return Qt}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),l.off(document,L),l.on(document,Xt,t=>this._handleFocusin(t)),l.on(document,Zt,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,l.off(document,L))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const i=m.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===it?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===te&&(this._lastTabNavDirection=t.shiftKey?it:ee)}}const st=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ot=".sticky-top",S="padding-right",rt="margin-right";class oe{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,S,n=>n+t),this._setElementAttributes(st,S,n=>n+t),this._setElementAttributes(ot,rt,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,S),this._resetElementAttributes(st,S),this._resetElementAttributes(ot,rt)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,i){const s=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,n);const c=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${i(Number.parseFloat(c))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(t,n){const i=t.style.getPropertyValue(n);i&&N.setDataAttribute(t,n,i)}_resetElementAttributes(t,n){const i=s=>{const r=N.getDataAttribute(s,n);if(r===null){s.style.removeProperty(n);return}N.removeDataAttribute(s,n),s.style.setProperty(n,r)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,n){if(w(t)){n(t);return}for(const i of m.find(t,this._element))n(i)}}const re="modal",ae="bs.modal",d=`.${ae}`,le=".data-api",ce="Escape",ue=`hide${d}`,de=`hidePrevented${d}`,vt=`hidden${d}`,wt=`show${d}`,fe=`shown${d}`,he=`resize${d}`,me=`click.dismiss${d}`,ge=`mousedown.dismiss${d}`,pe=`keydown.dismiss${d}`,_e=`click${d}${le}`,at="modal-open",Ee="fade",lt="show",W="modal-static",ye=".modal.show",be=".modal-dialog",Ae=".modal-body",ve='[data-bs-toggle="modal"]',we={backdrop:!0,focus:!0,keyboard:!0},Ce={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class C extends jt{constructor(t,n){super(t,n),this._dialog=m.findOne(be,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new oe,this._addEventListeners()}static get Default(){return we}static get DefaultType(){return Ce}static get NAME(){return re}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||l.trigger(this._element,wt,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(at),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||l.trigger(this._element,ue).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(lt),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){l.off(window,d),l.off(this._dialog,d),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Gt({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new se({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=m.findOne(Ae,this._dialog);n&&(n.scrollTop=0),ft(this._element),this._element.classList.add(lt);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,l.trigger(this._element,fe,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){l.on(this._element,pe,t=>{if(t.key===ce){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),l.on(window,he,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),l.on(this._element,ge,t=>{l.one(this._element,me,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(at),this._resetAdjustments(),this._scrollBar.reset(),l.trigger(this._element,vt)})}_isAnimated(){return this._element.classList.contains(Ee)}_triggerBackdropTransition(){if(l.trigger(this._element,de).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(W)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(W),this._queueCallback(()=>{this._element.classList.remove(W),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!t){const s=J()?"paddingLeft":"paddingRight";this._element.style[s]=`${n}px`}if(!i&&t){const s=J()?"paddingRight":"paddingLeft";this._element.style[s]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const i=C.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](n)}})}}l.on(document,_e,ve,function(e){const t=m.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),l.one(t,wt,s=>{s.defaultPrevented||l.one(t,vt,()=>{ut(this)&&this.focus()})});const n=m.findOne(ye);n&&C.getInstance(n).hide(),C.getOrCreateInstance(t).toggle(this)});Ut(C);Bt(C);let G=!1,K=!1;const a=document.querySelector("#character"),Ct=document.querySelector("#projectiles");new bootstrap.Modal(document.getElementById("exampleModal"),{});const Te=document.getElementById("exitButton"),Ne=document.getElementById("startAgainButton"),De=document.getElementById("exitButton2"),Se=document.getElementById("startAgainButton2");function Ie(){var e=new bootstrap.Modal(document.getElementById("exampleModal"));return e.show(),!0}function Oe(){var e=new bootstrap.Modal(document.getElementById("gameOverModal"));return e.show(),!0}const D=document.getElementById("goal");console.log("bottom "+D.getBoundingClientRect().bottom);console.log("top "+D.getBoundingClientRect().top);console.log("left "+D.getBoundingClientRect().left);console.log("right "+D.getBoundingClientRect().right);const Le=5,$e=2e3,ke=2;let P=0;await new Promise(e=>{document.querySelector("#start-screen > button").addEventListener("click",async()=>{await document.querySelector("html").requestFullscreen({navigationUI:"hide"}),document.querySelector("#start-screen").remove(),e()})});(async()=>await new Promise(function(e){Re(),setInterval(We,$e);const t=["/image/BG.jpg","/image/tile/Tile (1).png","/image/tile/Tile (2).png","/image/tile/Tile (3).png",...Array(10).fill("/image/character").flatMap((r,o)=>[`${r}/Jump__00${o}.png`,`${r}/Idle__00${o}.png`,`${r}/Run__00${o}.png`])];for(const r of t){const o=new Image;o.src=r,o.addEventListener("load",s)}const n=document.getElementById("bar"),i=t.length;function s(){t.pop(),n.style.width=`${100/i*(i-t.length)}%`,t.length||setTimeout(()=>{document.getElementById("overlay").classList.add("hide"),e()},1e3)}}))();let y=0,u=0,Me=0,j=!1,$=!1,O=0,T,I,v,Y=!1;setInterval(()=>{$?(a.style.backgroundImage=`url('/image/character/Jump__00${u++}.png')`,u===10&&(u=0)):j?(a.style.backgroundImage=`url('/image/character/Run__00${u++}.png')`,u===10&&(u=0)):(a.style.backgroundImage=`url('/image/character/Idle__00${u++}.png')`,u===10&&(u=0)),He()},1e3/30);function U(){if(T)return;u=0,$=!0;const e=a.offsetTop;T=setInterval(()=>{const t=e-Math.sin(Be(O++))*150;a.style.top=`${t}px`,O===181&&(clearInterval(T),T=void 0,$=!1,O=0,u=0)},1)}function Be(e){return e*Math.PI/180}function Tt(e){I||(j=!0,u=0,e?(y=-10,a.classList.add("rotate")):(y=10,a.classList.remove("rotate")),I=setInterval(()=>{if(y===0){clearInterval(I),I=void 0,j=!1,u=0;return}const t=a.offsetLeft+y;if(t+a.offsetWidth>=innerWidth||t<=0){t<=0?a.style.left="0":a.style.left=`${innerWidth-a.offsetWidth-1}px`,y=0;return}a.style.left=`${t}px`},20))}addEventListener("keydown",e=>{switch(e.code){case"ArrowLeft":case"ArrowRight":Tt(e.code==="ArrowLeft");break;case"Space":U();break;case"ArrowDown":Fe()}});addEventListener("keyup",e=>{switch(e.code){case"ArrowLeft":case"ArrowRight":y=0}});const Nt=()=>{a.style.top=`${innerHeight-128-a.offsetHeight}px`,a.offsetLeft<0?a.style.left="0":a.offsetLeft>=innerWidth&&(a.style.left=`${innerWidth-a.offsetWidth-1}px`)};addEventListener("resize",Nt);screen.orientation.addEventListener("change",Nt);a.addEventListener("touchmove",e=>{if(!v){v=e.touches.item(0);return}const t=e.touches.item(0);Tt(t.clientX-v.clientX<0),t.clientY<v.clientY&&U(),v=t});a.addEventListener("touchend",e=>{v=null,y=0});function Dt(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.left<i.left+i.width&&n.left+n.width>i.left&&n.top<i.top+i.height&&n.top+n.height>i.top}function Re(){const e=document.createElement("h1");e.id="death-count",e.style.position="fixed",e.style.top="50px",e.style.left="50px",e.style.color="red",e.style.fontSize="24px",e.textContent="Death count: 0",document.body.appendChild(e)}function xe(e){const t=document.getElementById("death-count");t.textContent=`Death count: ${e}`}function We(){const e=document.createElement("div");e.className="enemy",e.style.width="150px",e.style.height="150px",e.style.backgroundColor="none",e.style.left=`${innerWidth}px`,e.style.top=`${Math.random()*(innerHeight-128-20)}px`,Ct.appendChild(e);const t=setInterval(()=>{const n=e.offsetLeft-ke;if(n<0){e.remove(),clearInterval(t);return}G&&(e.remove(),clearInterval(t)),K&&(e.remove(),clearInterval(t)),e.style.left=`${n}px`,Dt(a,e)&&(a.getBoundingClientRect().left===e.getBoundingClientRect().left||a.getBoundingClientRect().bottom===e.getBoundingClientRect().bottom)&&(xe(P),P===6&&(Pe(),K=!0),P++)},20)}function Pe(){Oe()}function Fe(){const e=document.createElement("div");e.className="projectile",e.style.left=`${a.offsetLeft+a.offsetWidth/2}px`,e.style.top=`${a.offsetTop+a.offsetHeight/2}px`,Ct.appendChild(e);const t=setInterval(()=>{const n=e.offsetLeft+Le;if(n>innerWidth){e.remove(),clearInterval(t);return}e.style.left=`${n}px`,document.querySelectorAll(".enemy").forEach(i=>{Dt(e,i)&&(e.remove(),i.remove(),clearInterval(t))})},20)}setInterval(()=>{Ve()},5e3);function Ve(){for(let e=0;e<1;e++){const t=document.createElement("div");t.className="stage",t.style.width="150px",t.style.height=`${a.offsetHeight/4}px`;const n=Math.random()*(innerWidth-200);let i=innerHeight-t.offsetHeight;t.style.left=`${n}px`,t.style.top=`${i}px`,document.body.appendChild(t);let s=setInterval(()=>{if(i-=2,i<0){t.remove(),clearInterval(s);return}G&&(t.remove(),clearInterval(s)),K&&(t.remove(),clearInterval(s)),t.style.top=`${i}px`},20)}}function He(){const e=a.getBoundingClientRect(),t=document.querySelectorAll(".stage");let n=!1;t.forEach(i=>{const s=i.getBoundingClientRect();if(e.bottom>=s.top&&e.bottom<=s.bottom&&e.right>=s.left&&e.left<=s.right){n=!0,Y=!0;let r=s.top-a.offsetHeight;a.style.top=`${r}px`,clearInterval(T),$=!1,O=0,u=0}}),console.log("chara left "+a.getBoundingClientRect().left),je(a,D),n?U():(Y=!1,a.getBoundingClientRect().bottom>850&&(a.getBoundingClientRect().bottom=50),St())}const Ke=setInterval(St,20);function St(){const e=a.offsetTop+Me++*.1;if(!Y&&a.offsetTop>=innerHeight-128-a.offsetHeight){clearInterval(Ke);return}a.style.top=`${e}px`}function je(e,t){const n=e.getBoundingClientRect().bottom;e.getBoundingClientRect().right;const i=e.getBoundingClientRect().left,s=t.getBoundingClientRect().bottom;t.getBoundingClientRect().right,n<s&&i<window.innerWidth/2+100&&i>window.innerWidth/2-100&&(Ie(),G=!0)}Te.addEventListener("click",()=>{window.close()});Ne.addEventListener("click",()=>{location.reload()});De.addEventListener("click",()=>{window.close()});Se.addEventListener("click",()=>{location.reload()});
